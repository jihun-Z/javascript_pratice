<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
</head>
<body>

    <div class="product-cart">
        <input type="hidden" value="${signedInMember.memberKey}" name="memberKey" id="memberKey"/>
        <input type="hidden" value="${list.PRODUCT_NO}" name="productNo" id="productNo"/>
        <input type="checkbox" name="cartCheck" value="${sumPriceAmount}" class="checkbox">
      


            <div class="cartContent">

                <p>상품명:<c:out value="${list.TITLE }"/></p>
                <div id="cart--btnbox">
                    <input type="button" id="minus"  name="minus" value="-" />
                    
                        <input type="text" id="amount" name="amount" value="${list.AMOUNT}" maxlength="" readonly/>
           
                    <input type="button" id="plus"  name="plus" value="+" />
                </div>
                  
                <div>가격
                    <input type="text" id="product-price" name="cartPrice" value="${sumPriceAmount}22222"readonly/>원
                    <input type="hidden" id="product--price" name="price" value="${list.PRICE}"readonly/>
                </div>
                <button type="button" id="cart--deleteBtn" onclick="deleteBtn(event);" class="btn btn-primary2">삭제</button>
            </div>
     

     </div>

    <div class="product-cart">
        <input type="hidden" value="${signedInMember.memberKey}" name="memberKey" id="memberKey"/>
        <input type="hidden" value="${list.PRODUCT_NO}" name="productNo" id="productNo"/>
        <input type="checkbox" name="cartCheck" value="${sumPriceAmount}" class="checkbox">
      

            <div class="cartContent">

                <p>상품명:<c:out value="${list.TITLE }"/></p>
                <div id="cart--btnbox">
                    <input type="button" id="minus"  name="minus" value="-" />
                    
                        <input type="text" id="amount" name="amount" value="${list.AMOUNT}" maxlength="" readonly/>
           
                    <input type="button" id="plus"  name="plus" value="+" />
                </div>
                  
                <div>가격
                    <input type="text" id="product-price" name="cartPrice" value="${sumPriceAmount}11111"readonly/>원
                    <input type="hidden" id="product--price" name="price" value="${list.PRICE}"readonly/>
                </div>
                <button type="button" id="cart--deleteBtn" onclick="deleteBtn(event);" class="btn btn-primary2">삭제</button>
            </div>
     

     </div>

    <div class="product-cart">
        <input type="hidden" value="${signedInMember.memberKey}" name="memberKey" id="memberKey"/>
        <input type="hidden" value="${list.PRODUCT_NO}" name="productNo" id="productNo"/>
        <input type="checkbox" name="cartCheck" value="${sumPriceAmount}" class="checkbox">
      

       
            <div class="cartContent">

                <p>상품명:<c:out value="${list.TITLE }"/></p>
                <div id="cart--btnbox">
                    <input type="button" id="minus"  name="minus" value="-" />
                    
                        <input type="text" id="amount" name="amount" value="${list.AMOUNT}----" maxlength="" readonly/>
           
                    <input type="button" id="plus"  name="plus" value="+" />
                </div>
                  
                <div>가격
                    <input type="text" id="product-price" name="cartPrice" value="${sumPriceAmount}"readonly/>원
                    <input type="hidden" id="product--price" name="price" value="${list.PRICE}"readonly/>
                </div>
                <button type="button" id="cart--deleteBtn" onclick="deleteBtn(event);" class="btn btn-primary2">삭제</button>
            </div>
            <table>
                <thead>
                    <tr>
                        <th class="checkbox">
                            <input type="checkbox" id="ck_all">
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr data-tr_value="1">
                        <td><input type="checkbox" name="checkRow" value="1">222</td>
                    </tr>
                     <tr data-tr_value="2">
                        <td><input type="checkbox" name="checkRow" value="2">111</td>
                    </tr>
                     <tr data-tr_value="3">
                        <td><input type="checkbox" name="checkRow" value="3">333</td>
                    </tr>
                    <tr data-tr_value="4">
                        <td><input type="checkbox" name="checkRow" value="4">444</td>
                    </tr>
                    
                </tbody>
            </table>
             
            <input type="button" id="delete" value="삭제">
            <input type="text" inputmode="numeric">
     </div>
    <script>
     $(document).ready(function(){
    //체크박스 전체 선탣&해제
    $('#ck_all').click(function(){
         if($("#ck_all").prop("checked")){
            $("input[type=checkbox]").prop("checked",true); 
        }else{
            $("input[type=checkbox]").prop("checked",false); 
        }
    });
 
    $('#delete').click(function(){
        if(confirm("삭제하시겠습니까?")){
            $("input[name=checkRow]:checked").each(function(){
                var tr_value =$(this).val();
                var tr=$("tr[data-tr_value='"+tr_value+"']");
                tr.remove();
            });
        }else{
            return false;
        }
    });
 
});
//input 숫자 입력시 콤마찍기
$(document).on('keyup','input[inputmode=numeric]',function(event){
	this.value = this.value.replace(/[^0-9]/g,'');   // 입력값이 숫자가 아니면 공백
	this.value = this.value.replace(/,/g,'');          // ,값 공백처리
	this.value = this.value.replace(/\B(?=(\d{3})+(?!\d))/g, ","); // 정규식을 이용해서 3자리 마다 , 추가 	
}); 


            //클래스 이름 찾기 className
            //부모의부모를 찾아 
            function deleteBtn(e){
                $("#cart--deleteBtn").parent().parent(".product-cart").empty();


            }


     

    </script>
</body>
</html>